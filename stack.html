<!DOCTYPE html>
<html lang="en">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
        <title>AliceJS: Stack</title>
        <link href="favicon.ico" rel="icon" type="image/x-icon">
        <style type="text/css">
        body, select {
            font: 8pt Arial, sans-serif;
            overflow: hidden;
        }

        .cards {
            border: 1px dotted #CCC;
            width: 100%;
            height: 190px;
        }

        .card {
            position: absolute;
            width: 140px;
            height: 190px;
            margin-left: -70px; /* width / 2 */
            left: 50%;
        }

        .controls {
            border: 1px dotted #CCC;
            width: 100%;
            height: 2.5em;
        }

        input {
            font: 8pt Arial, sans-serif;
            width: 90px;
            float: left;
        }
        </style>
    </head>
    <body>
        <h1>Stack</h1>

        <p>This is a demo of animating a stack of 54 playing card images.</p>

        <div id="cards" class="cards">
            <div class="card"><img src="samples/images/cards/2_diamonds.png"></div>
            <div class="card"><img src="samples/images/cards/2_clubs.png"></div>
            <div class="card"><img src="samples/images/cards/2_hearts.png"></div>
            <div class="card"><img src="samples/images/cards/2_spades.png"></div>
            <div class="card"><img src="samples/images/cards/3_clubs.png"></div>
            <div class="card"><img src="samples/images/cards/3_diamonds.png"></div>
            <div class="card"><img src="samples/images/cards/3_hearts.png"></div>
            <div class="card"><img src="samples/images/cards/3_spades.png"></div>
            <div class="card"><img src="samples/images/cards/4_clubs.png"></div>
            <div class="card"><img src="samples/images/cards/4_diamonds.png"></div>
            <div class="card"><img src="samples/images/cards/4_hearts.png"></div>
            <div class="card"><img src="samples/images/cards/4_spades.png"></div>
            <div class="card"><img src="samples/images/cards/5_clubs.png"></div>
            <div class="card"><img src="samples/images/cards/5_diamonds.png"></div>
            <div class="card"><img src="samples/images/cards/5_hearts.png"></div>
            <div class="card"><img src="samples/images/cards/5_spades.png"></div>
            <div class="card"><img src="samples/images/cards/6_clubs.png"></div>
            <div class="card"><img src="samples/images/cards/6_diamonds.png"></div>
            <div class="card"><img src="samples/images/cards/6_hearts.png"></div>
            <div class="card"><img src="samples/images/cards/6_spades.png"></div>
            <div class="card"><img src="samples/images/cards/7_clubs.png"></div>
            <div class="card"><img src="samples/images/cards/7_diamonds.png"></div>
            <div class="card"><img src="samples/images/cards/7_hearts.png"></div>
            <div class="card"><img src="samples/images/cards/7_spades.png"></div>
            <div class="card"><img src="samples/images/cards/8_clubs.png"></div>
            <div class="card"><img src="samples/images/cards/8_diamonds.png"></div>
            <div class="card"><img src="samples/images/cards/8_hearts.png"></div>
            <div class="card"><img src="samples/images/cards/8_spades.png"></div>
            <div class="card"><img src="samples/images/cards/9_clubs.png"></div>
            <div class="card"><img src="samples/images/cards/9_diamonds.png"></div>
            <div class="card"><img src="samples/images/cards/9_hearts.png"></div>
            <div class="card"><img src="samples/images/cards/9_spades.png"></div>
            <div class="card"><img src="samples/images/cards/10_clubs.png"></div>
            <div class="card"><img src="samples/images/cards/10_diamonds.png"></div>
            <div class="card"><img src="samples/images/cards/10_hearts.png"></div>
            <div class="card"><img src="samples/images/cards/10_spades.png"></div>
            <div class="card"><img src="samples/images/cards/jack_clubs.png"></div>
            <div class="card"><img src="samples/images/cards/jack_diamonds.png"></div>
            <div class="card"><img src="samples/images/cards/jack_hearts.png"></div>
            <div class="card"><img src="samples/images/cards/jack_spades.png"></div>
            <div class="card"><img src="samples/images/cards/queen_clubs.png"></div>
            <div class="card"><img src="samples/images/cards/queen_diamonds.png"></div>
            <div class="card"><img src="samples/images/cards/queen_hearts.png"></div>
            <div class="card"><img src="samples/images/cards/queen_spades.png"></div>
            <div class="card"><img src="samples/images/cards/king_clubs.png"></div>
            <div class="card"><img src="samples/images/cards/king_diamonds.png"></div>
            <div class="card"><img src="samples/images/cards/king_hearts.png"></div>
            <div class="card"><img src="samples/images/cards/king_spades.png"></div>
            <div class="card"><img src="samples/images/cards/ace_clubs.png"></div>
            <div class="card"><img src="samples/images/cards/ace_diamonds.png"></div>
            <div class="card"><img src="samples/images/cards/ace_hearts.png"></div>
            <div class="card"><img src="samples/images/cards/ace_spades.png"></div>
            <div class="card"><img src="samples/images/cards/joker_black.png"></div>
            <div class="card"><img src="samples/images/cards/joker_red.png"></div>
<!--
            <div class="card" style="z-index: 0;"><img src="samples/images/cards/back_pattern_blue.png"></div>
-->
        </div>

        <div class="controls">
            <input type="button" id="btn-demo" value="Start Demo">
            <input type="button" id="btn-prev" value="Previous">
            <input type="button" id="btn-next" value="Next">
        </div>

        <!-- Add jWorkflow for Chaining -->
        <script src="libs/jworkflow/jworkflow-min-0.6.0.js"></script>

        <script src="js/src/alice.core.js"></script>
        <script src="js/src/alice.plugins.slide.js"></script>
        <script type="text/javascript">

        var elems = document.getElementById("cards").children;

        // Reverse z-index order
/*
        for (var i = 0, ii = elems.length; i < ii; i += 1) {
            //console.log(i, elems.length - i);
            elems[i].style.zIndex = elems.length - i;
        }
*/

        var a = alice.init();

        document.getElementById("btn-demo").addEventListener("click", function () {
            a.log("slideLeft").slideLeft({
                "elems": elems,
                "duration": {
                    "value": "250ms",
                    "randomness": "0%",
                    "offset": "50ms"
                }
            }).delay(3700) // 3700 = (50ms * 54) + 1000
            .log("tossLeft").tossLeft({
                "elems": elems,
                "duration": {
                    "value": "1000ms",
                    "randomness": "0%",
                    "offset": "150ms"
                }
            }).delay(9100).log("spinLeft").spinLeft({
                "elems": elems,
                "duration": {
                    "value": "2000ms",
                    "randomness": "0%",
                    "offset": "150ms"
                }
            }).delay(9100).log("pageFlipLeft").pageFlipLeft({
                "elems": elems,
                "duration": {
                    "value": "2000ms",
                    "randomness": "0%",
                    "offset": "250ms"
                }
            }).delay(14500).log("drain").drain({
                "elems": elems,
                "duration": {
                    "value": "500ms",
                    "randomness": "0%",
                    "offset": "150ms"
                }
            }).delay(8100).log("phantomZone").phantomZone({
                "elems": elems,
                "duration": {
                    "value": "500ms",
                    "randomness": "0%",
                    "offset": "150ms"
                }
            }).delay(8100).log("twirlFromRight").twirlFromRight({
                "elems": elems,
                "duration": {
                    "value": "500ms",
                    "randomness": "0%",
                    "offset": "150ms"
                }
            }).delay(9100).log("raceFlag").raceFlag({
                "elems": elems,
                //"timing": "easeInCirc",
                "duration": {
                    "value": "1000ms",
                    "randomness": "0%",
                    "offset": "250ms"
                }
            }).delay(1000).log("Done!").start();
        });

        </script>
    </body>
</html>
